# 댓글부터 구현하기로함

- 블로그를 작동시키는것이 우선

    - 채팅 없이도 블로그는 작동한다.

# 댓글 자체의 구조

1. 댓글의 정보

    - 작성자, 댓글내용, 작성날짜 등

2. 댓글에 달린 대댓글들의 배열

    - 대댓글의 정보에는 댓글 정보가 담는 내용을 포함한다.

        - 작성한 사람, 작성한 내용, 작성한 날짜 등

    - 대댓글에는 다음 정보도 포함한다.

        - 누구한테 대댓글을 달았는지

        - 어느 댓글에 달렸는지

# 댓글 형태에 관한 Client 적 고민

1. 맨 위에 표시되는 댓글이 최근거냐? 옛날거냐?

    - 1빠 댓글이 괜히 있는게 아니다. 옛날거를 맨 위로 하자.

2. 페이지에 로딩되는 댓글과 대댓글의 갯수는 어떻게 할 것인가?

    - 네이버의 경우 댓글과 대댓글을 포함해서 일정갯수 이상 넘어가면 다음 인덱스로 넘긴다.

    - 문제점

        - 무식하게 서버 코드를 짜서 구현을 하라면 할 수 있긴 하다.

            1. 파일의 모든 댓글 DB 에서 읽기

            2. 모든 댓글마다 대댓글들 DB 에서 읽기

            3. 두 배열 merge 하기

            4. 특정 구간만 서버가 클라이언트로 전송하기

        - 어떻게 하면 덜 무식하게 짤 수 있을까

    - 해결

        - 쿼리를 개선하면 가능하다.

        - 댓글과 거기에 해당하는 대댓글을 JOIN 해서 받아오면 된다.


