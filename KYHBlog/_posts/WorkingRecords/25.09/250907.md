<div class="block_white">

## **대댓글 알림 기능 구현중 소켓통신 에러 발생**

<div class="block_red">

### **상황**

- 게시글에 댓글 달리면 실시간 알람 기능을 구현 및 확인했었음

- 대댓글에 알람기능 구현하니까 대댓글도, 댓글도 알람이 실시간으로 오지 않았음

- 새로고침을 하면 알람이 정상적으로 오기는 했음

    + 알람 생성에는 문제가 없음

</div>

<div class="block_yellow">

### **원인**

- 소켓 모듈에서 에러 검출 적용중에 함수에 async 를 적용했음

    + 함수의 리턴값이 Object 에서 Promise\<Object\> 로 바뀜

- 바뀐 리턴값을 소켓메시지 전송하는 데코레이터에서 제대로 받아오지 못하게됨

- 리턴값에서 원하는 Property 가 없어서 소켓메시지 전송을 안하는거였음

</div>

<div class="block_green">

### **해결**

- 데코레이터에 async-await 을 적절히 추가하여 리턴하는 Property 를 정상적으로 검출하도록함

</div>

</div>